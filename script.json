let playerScore = 0;
let computerScore = 0;

// Function to handle the game logic
function playGame(playerChoice) {
    // Choices array
    const choices = ["rock", "paper", "scissors"];

    // Random choice for the computer
    const computerChoice = choices[Math.floor(Math.random() * choices.length)];

    // Display "waiting" state
    const playerChoiceElement = document.querySelector(".player_choice img");
    const computerChoiceElement = document.querySelector(".computer_choice img");
    playerChoiceElement.src = "images/question.png";
    computerChoiceElement.src = "images/question.png";

    // Wait 3 seconds before revealing choices
    setTimeout(() => {
        // Update images to show choices
        playerChoiceElement.src = `images/${playerChoice}.png`;
        computerChoiceElement.src = `images/${computerChoice}.png`;

        // Determine the winner
        if (playerChoice === computerChoice) {
            // It's a tie, no score update
        } else if (
            (playerChoice === "rock" && computerChoice === "scissors") ||
            (playerChoice === "paper" && computerChoice === "rock") ||
            (playerChoice === "scissors" && computerChoice === "paper")
        ) {
            playerScore++;
        } else {
            computerScore++;
        }

        // Update the score display
        document.querySelector("#player_recordBox .record-win").textContent = playerScore;
        document.querySelector("#computer_recordBox .record-win").textContent = computerScore;
    }, 3000);
}

// Add event listeners to buttons
document.querySelector("#rock_choice").addEventListener("click", () => playGame("rock"));
document.querySelector("#paper_choice").addEventListener("click", () => playGame("paper"));
document.querySelector("#scissors_choice").addEventListener("click", () => playGame("scissors"));